<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>kWiedza</title>
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="stylesheet" href="/style.css" />
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#0d1117;color:#e6edf3;}
    header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #26313d;background:#121c1f;position:sticky;top:0;z-index:50;}
    header h1{margin:0;font-size:1rem;letter-spacing:.6px;font-weight:600;display:flex;gap:.55rem;align-items:center;}
  .container{max-width:1100px;margin:1rem auto;padding:0 1rem;}
  .kw-toolbar{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center;margin:0 0 1rem;}
  .kw-toolbar input[type="search"]{flex:1 1 300px;max-width:520px;background:var(--bg-elev);border:1px solid var(--border);color:var(--text);padding:.5rem .6rem;border-radius:10px;font-size:.9rem;}
  .kw-toolbar input[type="search"]:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow);}    
  .docs-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem;}
  .docs-tile{display:flex;gap:.8rem;align-items:flex-start;justify-content:space-between;text-align:left;padding:1rem 1.1rem;border-radius:18px;background:linear-gradient(145deg,var(--bg-elev),var(--bg-alt));border:1px solid var(--border);color:var(--text);cursor:pointer;transition:background .3s,border-color .3s,transform .25s;}
  .docs-tile:hover{border-color:var(--accent);background:linear-gradient(145deg,var(--bg-elev),var(--bg-alt));color:#fff;}
  .tile-main{min-width:0}
  .tile-title{font-size:1.02rem;font-weight:700;letter-spacing:.4px;margin:0 0 .25rem;display:block;overflow:visible;white-space:normal;}
  .tile-hier{display:flex;align-items:center;gap:.35rem;font-size:.72rem;opacity:.85;margin:0 0 .35rem;min-height:1.1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .tile-excerpt{font-size:.86rem;opacity:.95;line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
  .ico{width:14px;height:14px;opacity:.9;flex:0 0 auto}
  .tile-arrow{flex:0 0 auto;opacity:.9;margin-left:.5rem}
  .content{background:linear-gradient(145deg,#16212b,#0f161d);border:1px solid var(--border);border-radius:16px;padding:1.25rem 1.6rem;box-shadow:0 4px 18px -6px rgba(0,0,0,.55);min-height:55vh;}
  .doc-wrap{max-width:75ch;margin:0 auto;}
    .content h1,.content h2,.content h3{letter-spacing:.5px;}
    .content pre{background:#0e1620;border:1px solid #1f2a35;padding:.75rem;border-radius:10px;overflow:auto;}
    .content code{background:#0e1620;border:1px solid #1f2a35;padding:.1rem .25rem;border-radius:6px;}
  .content a{color:var(--accent);}
  .content a:hover{text-decoration:underline;}
  .doc-actions{display:flex;gap:.6rem;flex-wrap:wrap;margin:.2rem 0 .9rem;}
    .meta-bar{display:flex;flex-wrap:wrap;gap:.35rem;margin:.35rem 0 .85rem;}
  .meta-chip{display:inline-flex;gap:.35rem;align-items:center;background:var(--bg-elev);border:1px solid var(--border);color:var(--text);padding:.25rem .5rem;border-radius:999px;font-size:.7rem;font-weight:600;}
    .meta-chip .k{opacity:.75;}
  </style>
  <!-- OpenGraph meta tags -->
  <meta property="og:title" content="kWiedza" />
  <meta property="og:description" content="Dokumenty i wiedza w aplikacji kObywatel." />
  <meta property="og:image" content="/assets/og/OG-Standard-kWiedza.png" />
  <meta property="og:url" content="/kwiedza.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="kObywatel" />
  <!-- Twitter Card meta tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="/assets/og/OG-Twitter-kWiedza.png" />
</head>
<body>
  <div class="app-shell" data-state="kwiedza">
    <header class="app-header">
      <button type="button" id="back-btn" class="back-btn" aria-label="Powrót" title="Powrót">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="15 18 9 12 15 6"/></svg>
      </button>
      <a class="brand" href="/" aria-label="Strona główna">
        <img src="/logo.png" alt="Logo kObywatel" class="logo no-bg" />
        <span class="brand-name">kObywatel</span>
      </a>
      <nav class="main-nav" aria-label="Nawigacja"></nav>
    </header>
    <main class="app-main">
      <div class="container">
        <div class="kw-toolbar">
          <input id="search" type="search" placeholder="Szukaj dokumentów..." />
        </div>
        <div id="docs-grid" class="docs-grid" aria-live="polite"></div>
        <article class="content" id="doc-content" aria-live="polite" hidden></article>
      </div>
    </main>
  </div>
  <script src="/db-adapter.js"></script>
  <script>window.__db && window.__db.loadConfig && window.__db.loadConfig().catch(()=>{});</script>
  <script src="https://cdn.jsdelivr.net/npm/markdown-it@latest/dist/markdown-it.min.js"></script>
  <script type="module" src="/kwiedza.js"></script>
</body>
</html>
